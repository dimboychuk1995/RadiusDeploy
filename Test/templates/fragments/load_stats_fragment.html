<h3 style="margin-left: 30px;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥—Ä—É–∑–∞–º</h3>

<div class="stats-scroll-container">
    <div class="stats-block" onclick="toggleStatsBlock(this)">
        <h5>1Ô∏è‚É£ –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ <span class="chevron">‚ñ∂</span></h5>
        <div class="stats-content">
            <p>–°–≤–æ–¥–∫–∞: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Å—É–º–º–∞, RPM.</p>
        </div>
    </div>

    <div class="stats-block" onclick="toggleStatsBlock(this)">
        <h5>2Ô∏è‚É£ –ü–æ –≤–æ–¥–∏—Ç–µ–ª—è–º <span class="chevron">‚ñ∂</span></h5>
        <div class="stats-content">
            <p>–ü–æ –∫–∞–∂–¥–æ–º—É –≤–æ–¥–∏—Ç–µ–ª—é: —Å—É–º–º–∞, RPM.</p>
        </div>
    </div>

    <div class="stats-block" onclick="toggleStatsBlock(this)">
        <h5>3Ô∏è‚É£ –ü–æ –±—Ä–æ–∫–µ—Ä–∞–º <span class="chevron">‚ñ∂</span></h5>
        <div class="stats-content">
            <p>–°—É–º–º–∞, RPM –ø–æ –±—Ä–æ–∫–µ—Ä–∞–º.</p>
        </div>
    </div>

    <div class="stats-block" onclick="toggleStatsBlock(this)">
        <h5>4Ô∏è‚É£ –ì–µ–æ–≥—Ä–∞—Ñ–∏—è <span class="chevron">‚ñ∂</span></h5>
        <div class="stats-content">
            <p>–ü–∏–∫–∞–ø—ã/–¥–µ–ª–∏–≤–µ—Ä–∏ –ø–æ —à—Ç–∞—Ç–∞–º –∏ –≥–æ—Ä–æ–¥–∞–º.</p>
        </div>
    </div>

    <div class="stats-block" onclick="toggleStatsBlock(this)">
        <h5>6Ô∏è‚É£ –¢–æ–ø –≥—Ä—É–∑—ã <span class="chevron">‚ñ∂</span></h5>
        <div class="stats-content">
            <p>–°–∞–º—ã–µ –¥–æ—Ä–æ–≥–∏–µ –∏–ª–∏ –≤—ã–≥–æ–¥–Ω—ã–µ –≥—Ä—É–∑—ã.</p>
        </div>
    </div>

    <div class="stats-block" onclick="toggleStatsBlock(this)">
        <h5>7Ô∏è‚É£ –ê–Ω–æ–º–∞–ª–∏–∏ <span class="chevron">‚ñ∂</span></h5>
        <div class="stats-content">
            <p>–ì—Ä—É–∑—ã —Å –æ—à–∏–±–∫–∞–º–∏ –∏–ª–∏ –Ω–∏–∑–∫–∏–º RPM.</p>
        </div>
    </div>

    <div class="stats-block" onclick="toggleStatsBlock(this)">
        <h5>8Ô∏è‚É£ –ü–æ —Å—Ç–∞—Ç—É—Å—É <span class="chevron">‚ñ∂</span></h5>
        <div class="stats-content">
            <p>Delivered, Canceled –∏ –¥—Ä.</p>
        </div>
    </div>
</div>

<div class="stats-details-container" id="generalStatsSection" style="display: none;">
    <h4>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥—Ä—É–∑–∞–º</h4>

    <div class="filter-row">
        <div class="filter-item">
            <label for="filterStart">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
            <input type="date" id="filterStart" class="form-control">
        </div>
        <div class="filter-item">
            <label for="filterEnd">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
            <input type="date" id="filterEnd" class="form-control">
        </div>
        <div class="filter-item">
            <label for="filterCompany">–ö–æ–º–ø–∞–Ω–∏—è</label>
            <select id="filterCompany" class="form-control">
                <option value="">–í—Å–µ</option>
                <!-- –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ–∑–∂–µ -->
            </select>
        </div>
        <div class="filter-item">
            <label for="filterTruckType">–¢–∏–ø —Ç—Ä–∞–∫–∞</label>
            <select id="filterTruckType" class="form-control">
                <option value="">–í—Å–µ</option>
                <!-- –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ–∑–∂–µ -->
            </select>
        </div>
    </div>

    <ul id="generalStatsData">
        <li>üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–∑–æ–≤: <span id="totalLoads">...</span></li>
        <li>üíµ –û–±—â–∞—è —Å—É–º–º–∞: <span id="totalAmount">...</span></li>
        <li>üìè –û–±—â–∏–µ –º–∏–ª–∏: <span id="totalMiles">...</span></li>
        <li>‚öñÔ∏è –°—Ä–µ–¥–Ω–∏–π RPM (–º–∏–ª—å / $): <span id="avgRPM">...</span></li>
        <li>üöö –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–ª—å: <span id="avgMiles">...</span></li>
        <li>üí≤ –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –≥—Ä—É–∑–∞: <span id="avgPrice">...</span></li>
    </ul>

    <h5 class="mt-4">üìà –î–∏–Ω–∞–º–∏–∫–∞ –ø–æ –Ω–µ–¥–µ–ª—è–º</h5>
    <canvas id="weeklyStatsChart" style="width: 100%; max-height: 600px;"></canvas>

    <h5 class="mt-5">üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º –¥–∞—Ç</h5>

    <div id="rangeComparisonContainer" class="d-flex flex-column gap-2">
        <div class="d-flex align-items-center gap-2 range-row">
            <input type="date" class="form-control" style="max-width: 200px;">
            <span>‚Äî</span>
            <input type="date" class="form-control" style="max-width: 200px;">
            <button class="btn btn-outline-danger" onclick="removeRangeRow(this)">‚úñ</button>
        </div>
    </div>

    <div class="mt-3 d-flex gap-2">
        <button class="btn btn-outline-secondary" onclick="addRangeRow()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –¥–∞–ø–∞–∑–æ–Ω</button>
        <button class="btn btn-primary" onclick="calculateRangeComparison()">üìà –°—Ä–∞–≤–Ω–∏—Ç—å</button>
    </div>

    <div class="table-responsive mt-4" id="rangeComparisonResult" style="display: none;">
        <table class="table table-bordered table-sm">
            <thead class="thead-light">
                <tr>
                    <th>–î–∏–∞–ø–∞–∑–æ–Ω</th>
                    <th>–ì—Ä—É–∑—ã</th>
                    <th>–°—É–º–º–∞</th>
                    <th>–ú–∏–ª–∏</th>
                    <th>RPM</th>
                    <th>–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</th>
                    <th>–°—Ä–µ–¥–Ω–∏–µ –º–∏–ª–∏</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <h5 style="margin-top: 30px;">–ì—Ä—É–∑—ã, –ø–æ–ø–∞–≤—à–∏–µ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</h5>
        <div class="table-responsive">
            <table class="table table-bordered table-sm" id="statLoadsTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Broker</th>
                        <th>Pickup</th>
                        <th>Delivery</th>
                        <th>Pickup Date</th>
                        <th>Delivery Date</th>
                        <th>Total Miles</th>
                        <th>RPM</th>
                        <th>Driver</th>
                        <th>Dispatch</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>


<div class="stats-details-container" id="driverStatsSection" style="display: none;">
    <h4>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤–æ–¥–∏—Ç–µ–ª—è–º</h4>

    <div class="filter-row">
        <div class="filter-item">
            <label for="driverFilterStart">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
            <input type="date" id="driverFilterStart" class="form-control">
        </div>
        <div class="filter-item">
            <label for="driverFilterEnd">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
            <input type="date" id="driverFilterEnd" class="form-control">
        </div>
        <div class="filter-item">
            <label for="driverFilterCompany">–ö–æ–º–ø–∞–Ω–∏—è</label>
            <select id="driverFilterCompany" class="form-control">
                <option value="">–í—Å–µ</option>
                <!-- –æ–ø—Ü–∏–∏ –ø–æ–∑–∂–µ -->
            </select>
        </div>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered table-sm" id="driverStatsTable">
            <thead>
                <tr>
                    <th>–í–æ–¥–∏—Ç–µ–ª—å</th>
                    <th>–ö–æ–ª-–≤–æ –≥—Ä—É–∑–æ–≤</th>
                    <th>–°—É–º–º–∞</th>
                    <th>RPM</th>
                    <th>–°—Ä–µ–¥–Ω–∏–µ –º–∏–ª–∏</th>
                    <th>–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<h5 class="mt-4">üìà –ì—Ä–∞—Ñ–∏–∫ –ø–æ –≤–æ–¥–∏—Ç–µ–ª—è–º</h5>
<div style="height: 500px;">
    <canvas id="driverStatsChart"></canvas>
</div>

<div class="stats-details-container" id="brokerStatsSection" style="display: none;">
    <h4>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±—Ä–æ–∫–µ—Ä–∞–º –∏ –∫–∞—Å—Ç–æ–º–µ—Ä–∞–º</h4>

    <div class="filter-row">
        <div class="filter-item">
            <label for="brokerFilterStart">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
            <input type="date" id="brokerFilterStart" class="form-control">
        </div>
        <div class="filter-item">
            <label for="brokerFilterEnd">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
            <input type="date" id="brokerFilterEnd" class="form-control">
        </div>
        <div class="filter-item">
            <label for="brokerFilterCompany">–ö–æ–º–ø–∞–Ω–∏—è</label>
            <select id="brokerFilterCompany" class="form-control">
                <option value="">–í—Å–µ</option>
            </select>
        </div>
        <div class="filter-item">
            <label for="brokerCustomerType">–¢–∏–ø</label>
            <select id="brokerCustomerType" class="form-control">
                <option value="">–í—Å–µ</option>
                <option value="broker">–ë—Ä–æ–∫–µ—Ä—ã</option>
                <option value="customer">–ö–∞—Å—Ç–æ–º–µ—Ä—ã</option>
            </select>
        </div>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered table-sm" id="brokerStatsTable">
            <thead>
                <tr>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–ö–æ–ª-–≤–æ –≥—Ä—É–∑–æ–≤</th>
                    <th>–°—É–º–º–∞</th>
                    <th>–û–±—â–∏–µ –º–∏–ª–∏</th>
                    <th>–°—Ä–µ–¥–Ω–∏–µ –º–∏–ª–∏</th>
                    <th>RPM</th>
                    <th>–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>