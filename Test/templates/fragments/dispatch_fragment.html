<!-- templates/fragments/dispatch_fragment.html -->
<!-- Фильтры -->
<div class="row mb-3 gx-2">
    <div class="col-md-4">
        <input type="text" id="searchName" class="form-control" placeholder="Поиск по имени">
    </div>
    <div class="col-md-4">
        <input type="text" id="searchUnitNumber" class="form-control" placeholder="Поиск по юнит номеру">
    </div>
    <div class="col-md-4">
        <select id="searchDispatcher" class="form-control">
            <option value="">Все диспетчеры</option>
            {% for dispatcher in dispatchers %}
                <option value="{{ dispatcher.username }}">{{ dispatcher.username }}</option>
            {% endfor %}
        </select>
    </div>
</div>

<!-- Таблица -->
<div class="row">
    <div class="col-md-12">
        <h2>Водители</h2>
        <table class="table table-striped" id="driversTable">
            <thead>
                <tr>
                    <th>Имя</th>
                    <th>Трак</th>
                    <th>Диспетчер</th>
                </tr>
            </thead>
            <tbody>
                {% for driver in drivers %}
                    <tr class="driver-row">
                        <td class="driver-name">{{ driver.name }}</td>
                        <td class="truck-unit">
                            {% if driver.truck %}
                                {{ driver.truck.unit_number }} - {{ driver.truck.make }} {{ driver.truck.model }}
                            {% else %}
                                Нет трака
                            {% endif %}
                        </td>
                        <td class="dispatcher-name">
                            {% if driver.dispatcher %}
                                {{ driver.dispatcher.username }}
                            {% else %}
                                Нет диспетчера
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>