<div class="container-fluid"
     id="dispatchContainer"
     data-drivers='{{ drivers | tojson | safe }}'
     data-loads='{{ loads | tojson | safe }}'>

  <h2 class="mb-3">Dispatch Calendar</h2>

  <!-- Заголовок: выбор недели -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div>
      <button class="btn btn-outline-secondary btn-sm" id="prevWeekBtn">← Пред. неделя</button>
      <button class="btn btn-outline-secondary btn-sm" id="nextWeekBtn">След. неделя →</button>
    </div>
    <div id="currentWeek" class="fw-bold"></div>
  </div>

  <!-- Таблица-календарь -->
  <div class="table-responsive">
    <table class="table table-bordered text-center align-middle" id="dispatchCalendar">
      <thead class="table-light">
        <tr>
          <th rowspan="2" style="width: 200px;">Водитель</th>
          <th colspan="3">Пн</th>
          <th colspan="3">Вт</th>
          <th colspan="3">Ср</th>
          <th colspan="3">Чт</th>
          <th colspan="3">Пт</th>
          <th colspan="3">Сб</th>
          <th colspan="3">Вс</th>
        </tr>
        <tr>
          {% for i in range(7) %}
            <th>Утро</th>
            <th>День</th>
            <th>Вечер</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody id="calendarBody">
        <!-- Водители и слоты добавляются через JS -->
      </tbody>
    </table>
  </div>
</div>
