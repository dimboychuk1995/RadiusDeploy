<div class="container-fluid py-3" style="height: 80vh;">
  <div class="row h-100">
    <!-- ЛЕВАЯ ПАНЕЛЬ -->
    <div class="col-3 border-end pe-0 d-flex flex-column">
      <div class="d-flex justify-content-between align-items-center px-2 mb-2">
        <h5 class="mb-0">Чаты</h5>
        <button id="create-room-btn" class="btn btn-sm btn-success">+</button>
      </div>
      <ul id="room-list" class="list-group list-group-flush flex-grow-1 overflow-auto"></ul>
    </div>

    <!-- ПРАВАЯ ПАНЕЛЬ -->
    <div class="col-9 d-flex flex-column">
      <div id="chat-meta"
           data-user-id="{{ current_user_id }}"
           data-user-name="{{ current_user_name }}">
      </div>
      <!-- Блок сообщений -->
      <div id="chat-box" class="border p-3 mb-3 flex-grow-1"
           style="overflow-y: auto; background-color: #f9f9f9;">
        <!-- Сообщения -->
      </div>

      <!-- Поле ввода -->
      <div class="d-flex flex-column border rounded px-2 py-1">
        <div class="d-flex align-items-end gap-2">
          <button id="chat-attach-btn" class="btn btn-sm p-1" style="background: none; border: none;" title="Прикрепить файл">
            <i class="fas fa-paperclip fa-lg text-secondary"></i>
          </button>
          <textarea id="chat-input" class="form-control border-0" rows="2"
                    placeholder="Напишите сообщение..."
                    style="resize: none; overflow-y: hidden; min-height: 48px; max-height: 120px;"></textarea>
          <input type="file" id="chat-file" class="d-none" multiple>
          <button id="chat-send-btn" class="btn btn-primary">Отправить</button>
        </div>
        <div id="selected-files" class="small text-muted mt-1 ps-1" style="max-height: 80px; overflow-y: auto;"></div>
      </div>
    </div>
  </div>
</div>