{% extends "base.html" %}
{% block title %}Uniwersal Ways Corp{% endblock %}

{% block sidebar %}
<div class="list-group sidebar">
    <button class="list-group-item list-group-item-action" id="btn-chat" data-section="chat" data-url="/fragment/chat">
        <i class="fas fa-comments me-2"></i> Чат
    </button>

    <button class="list-group-item list-group-item-action" id="btn-trucks" data-section="trucks" data-url="/fragment/trucks">
        <i class="fas fa-truck me-2"></i> Грузовики
    </button>

    <button class="list-group-item list-group-item-action" id="btn-drivers" data-section="drivers" data-url="/fragment/drivers">
        <i class="fas fa-user me-2"></i> Водители
    </button>

    <!-- Диспетчер -->
    <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" id="btn-dispatch-fragment" data-section="dispatch_fragment" data-url="/fragment/dispatch_fragment">
        <span><i class="fas fa-headset me-2"></i> Диспетчер</span>
        <span id="dispatcherDropdownArrow" style="cursor: pointer;">&#9662;</span>
    </button>
    <div id="dispatcherSubmenu" style="display: none; padding-left: 10px;">
        <button class="list-group-item list-group-item-action" id="btn-brokers-fragment" data-section="dispatch_brokers" data-url="/fragment/dispatch_brokers">
            <i class="fas fa-user-tie me-2"></i> Брокеры / Кастомеры
        </button>
        <button class="list-group-item list-group-item-action" id="btn-dispatchers-fragment" data-section="dispatchers" data-url="/fragment/dispatchers">
            <i class="fas fa-users me-2"></i> Диспетчеры
        </button>
        <button class="list-group-item list-group-item-action" id="btn-dispatch-schedule" data-section="dispatch_schedule" data-url="/fragment/dispatch_schedule">
            <i class="fas fa-calendar-alt me-2"></i> Расписание
        </button>
    </div>

    <!-- Грузы -->
    <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" id="btn-loads-fragment" data-section="loads_fragment" data-url="/fragment/loads_fragment">
        <span><i class="fas fa-boxes me-2"></i> Грузы</span>
        <span id="loadsDropdownArrow" style="cursor: pointer;">&#9662;</span>
    </button>
    <div id="loadsSubmenu" style="display: none; padding-left: 10px;">
        <button class="list-group-item list-group-item-action" id="btn-loads-stats" data-section="load_stats_fragment" data-url="/fragment/load_stats_fragment">
            <i class="fas fa-chart-line me-2"></i> Статистика
        </button>
    </div>

    <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
            id="btn-safety"
            data-section="safety"
            data-url="/fragment/safety">
        <span><i class="fas fa-shield-alt me-2"></i> Safety</span>
        <span id="safetyDropdownArrow" style="cursor: pointer;">&#9662;</span>
    </button>
    <div id="safetySubmenu" style="display: none; padding-left: 10px;">
        <button class="list-group-item list-group-item-action"
                id="btn-safety-ifta"
                data-section="safety_ifta"
                data-url="/fragment/safety_ifta">
            <i class="fas fa-gas-pump me-2"></i> IFTA
        </button>
    </div>

    <button class="list-group-item list-group-item-action" id="btn-accounting" data-section="accounting" data-url="/fragment/accounting_fragment">
        <i class="fas fa-calculator me-2"></i> Бухгалтерия
    </button>

    <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
            id="btn-statements"
            data-section="statements"
            data-url="/statement/fragment"> <!-- ВЕРНУЛ старый рабочий URL -->
      <span><i class="fas fa-file-invoice-dollar me-2"></i> Стейтменты</span>
      <span id="statementsDropdownArrow" style="cursor: pointer;">&#9662;</span>
    </button>

    <div id="statementsSubmenu" style="display: none; padding-left: 10px;">
      <button class="list-group-item list-group-item-action"
              id="btn-dispatcher-statements"
              data-section="statement_dispatchers"
              data-url="/fragment/statement_dispatchers"> <!-- ЭТО новый URL -->
        <i class="fas fa-user me-2"></i> Стейтменты Диспетчеров
      </button>
    </div>

   <!-- Топливные карты -->
    <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
            id="btn-fuel-cards"
            data-section="fuel_cards"
            data-url="/fragment/fuel_cards">
      <span><i class="fas fa-gas-pump me-2"></i> Топливные карты</span>
      <span id="fuelCardsDropdownArrow" style="cursor: pointer;">&#9662;</span>
    </button>
    <div id="fuelCardsSubmenu" style="display: none; padding-left: 10px;">
      <button class="list-group-item list-group-item-action"
              id="btn-fuel-cards-summary"
              data-section="fuel_cards_summary"
              data-url="/fragment/fuel_cards_summary">
        <i class="fas fa-list-alt me-2"></i> Summary
      </button>
      <button class="list-group-item list-group-item-action"
              id="btn-fuel-cards-transactions"
              data-section="fuel_cards_transactions"
              data-url="/fragment/fuel_cards_transactions">
        <i class="fas fa-receipt me-2"></i> Transactions
      </button>
    </div>

    <!-- Samsara -->
    <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
            id="btn-samsara"
            data-section="samsara"
            data-url="/fragment/samsara_fragment">
        <span><i class="fas fa-map-marked-alt me-2"></i> Samsara</span>
        <span id="samsaraDropdownArrow" style="cursor: pointer;">&#9662;</span>
    </button>

    <div id="samsaraSubmenu" style="display: none; padding-left: 10px;">
        <button class="list-group-item list-group-item-action"
                id="btn-samsara-mileage"
                data-section="samsara_mileage"
                data-url="/fragment/samsara_mileage_fragment">
            <i class="fas fa-road me-2"></i> Driver Mileage
        </button>
    </div>

    <button class="list-group-item list-group-item-action" id="btn-logbook" data-section="logbook" data-url="/fragment/logbook">
        <i class="fas fa-book me-2"></i> Лог Бук
    </button>

    <button class="list-group-item list-group-item-action" id="btn-tolls" data-section="tolls" data-url="/fragment/tolls_fragment">
        <i class="fas fa-road me-2"></i> Толлы
    </button>

    <!-- Fleet -->
    <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
            id="btn-fleet"
            data-section="fleet"
            data-url="/fragment/fleet_fragment">
      <span><i class="fas fa-tools me-2"></i> Fleet</span>
      <span id="fleetDropdownArrow" style="cursor: pointer;">&#9662;</span>
    </button>
    <div id="fleetSubmenu" style="display: none; padding-left: 10px;">
      <button class="list-group-item list-group-item-action"
              id="btn-equipment"
              data-section="equipment"
              data-url="/fragment/equipment">
        <i class="fas fa-cogs me-2"></i> Equipment
      </button>
    </div>

    <button class="list-group-item list-group-item-action" id="btn-documents" data-section="documents" data-url="/fragment/documents">
      <i class="fas fa-folder-open me-2"></i> База документов
    </button>
</div>
{% endblock %}

{% block content %}
<div class="content">

    <div id="section-chat" class="content-section" style="display: none;"></div>

    <div id="section-trucks" class="content-section" style="display: none;"></div>
    <div id="unit_details_fragment" class="content-section"></div>

    <div id="section-drivers" class="content-section" style="display: none;"></div>
    <div id="driver-details" class="content-section" style="display: none;"></div>

    <div id="section-loads_fragment" class="content-section" style="display: none;"></div>
    <div id="load-details" class="content-section" style="display: none;"></div>
    <div id="section-load_stats_fragment" class="content-section" style="display: none;"></div>

    <div id="section-dispatch_fragment" class="content-section" style="display: none;"></div>
    <div id="section-dispatch_brokers" class="content-section" style="display: none;"></div>
    <div id="section-dispatchers" class="content-section" style="display: none;"></div>
    <div id="section-dispatch_schedule" class="content-section" style="display: none;"></div>

    <div id="section-safety" class="content-section" style="display: none;"></div>
    <div id="section-safety_ifta" class="content-section" style="display: none;"></div>

    <div id="section-accounting" class="content-section" style="display: none;"></div>

    <div id="section-statements" class="content-section" style="display: none;"></div>
    <div id="section-statement_dispatchers" class="content-section" style="display: none;"></div>

    <div id="section-fuel_cards" class="content-section" style="display: none;"></div>
    <div id="section-fuel_cards_summary" class="content-section" style="display: none;"></div>
    <div id="section-fuel_cards_transactions" class="content-section" style="display: none;"></div>


    <div id="section-samsara" class="content-section" style="display: none;"></div>
    <div id="section-samsara_mileage" class="content-section" style="display: none;"></div>

    <div id="section-logbook" class="content-section" style="display: none;"></div>

    <div id="section-tolls" class="content-section" style="display: none;"></div>

    <div id="section-fleet" class="content-section" style="display: none;"></div>
    <div id="section-service-details" class="content-section" style="display: none;"></div>
    <div id="section-equipment" class="content-section" style="display: none;"></div>

    <div id="section-documents" class="content-section" style="display: none;"></div>
</div>
{% endblock %}
