<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}{% endblock %}</title>

    <!-- Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/@ttskch/select2-bootstrap4-theme@1.6.2/dist/select2-bootstrap4.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- SweetAlert2 -->
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.min.css" rel="stylesheet">

    <!-- Кастомные стили -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/modal.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/load_stats.css') }}">

    <!-- Mapbox -->
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css' rel='stylesheet'/>

    <!-- Иконки -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Календарь -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css">
</head>
<body>
    {% include 'navbar.html' %}

    <div class="app-container">
        {% block sidebar %}{% endblock %}

        <div class="main-content">
            <!-- ✅ FLASH-СООБЩЕНИЯ -->
            <div class="mt-3 px-3">
              {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                  {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show">
                      <i class="fas fa-circle-info icon"></i>
                      {{ message }}
                      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                  {% endfor %}
                {% endif %}
              {% endwith %}
            </div>

            <!-- ✅ ОСНОВНОЙ КОНТЕНТ -->
            <div class="flex-grow-1 d-flex flex-column px-3">
              {% block content %}{% endblock %}
            </div>
        </div>
    </div>

    <!-- Скрипты -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.all.min.js"></script>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>


    <!-- Пользовательские скрипты -->
    <script src="{{ url_for('static', filename='js/dispatch.js') }}"></script>
    <script src="{{ url_for('static', filename='js/drivers.js') }}"></script>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
    <script src="{{ url_for('static', filename='js/loads.js') }}"></script>
    <script src="{{ url_for('static', filename='js/trucks.js') }}"></script>
    <script src="{{ url_for('static', filename='js/unit_details.js') }}"></script>
    <script src="{{ url_for('static', filename='js/accounting.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tools/dates.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tools/driver_load_table_statement.js') }}"></script>
    <script src="{{ url_for('static', filename='js/statement.js') }}"></script>
    <script src="{{ url_for('static', filename='js/statement_details.js') }}"></script>
    <script src="{{ url_for('static', filename='js/fuel_cards.js') }}"></script>
    <script src="{{ url_for('static', filename='js/integrations.js') }}"></script>
    <script src="{{ url_for('static', filename='js/samsara.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tools/load_parser.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tools/unit_parser.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tools/driver_parser.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tolls.js') }}"></script>
    <script src="{{ url_for('static', filename='js/fleet.js') }}"></script>
    <script src="{{ url_for('static', filename='js/fleet_unit_details.js') }}"></script>
    <script src="{{ url_for('static', filename='js/brokers_customers.js') }}"></script>
    <script src="{{ url_for('static', filename='js/company_information.js') }}"></script>
    <script src="{{ url_for('static', filename='js/load_stats.js') }}"></script>
    <script src="{{ url_for('static', filename='js/safety.js') }}"></script>
    <script src="{{ url_for('static', filename='js/inspection_details.js') }}"></script>
    <script src="{{ url_for('static', filename='js/samsara_mileage.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tools/calendar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/load_details.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ifta.js') }}"></script>
    <script src="{{ url_for('static', filename='js/documents.js') }}"></script>
    <script src="{{ url_for('static', filename='js/sockets.js') }}"></script>

</body>
</html>
