<div class="p-4">
  <h4 class="mb-4"><i class="fas fa-road me-2"></i>–ü—Ä–æ–±–µ–≥–∏ –ø–æ Samsara</h4>

  <!-- –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
  <div class="d-flex justify-content-center mb-3">
    <div class="btn-group" role="group">
      <button class="btn btn-outline-primary mileage-tab active" data-target="#samsara_drivers">Samsara Drivers</button>
      <button class="btn btn-outline-primary mileage-tab" data-target="#samsara_vehicles">Samsara Vehicles</button>
      <button class="btn btn-outline-primary mileage-tab" data-target="#mileage-stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
      <button class="btn btn-outline-primary mileage-tab" data-target="#units-mileage">Units Mileage</button>
    </div>
  </div>

  <!-- –°–µ–∫—Ü–∏–∏ -->
    <div id="samsara_drivers" class="mileage-section" style="display: block;">

          <button class="btn btn-sm btn-success mb-3 me-2" onclick="openAddSamsaraDriverModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤–æ–¥–∏—Ç–µ–ª—è</button>
          <button class="btn btn-sm btn-primary mb-3" onclick="loadSamsaraDrivers()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤–æ–¥–∏—Ç–µ–ª–µ–π</button>

          <div id="driversTableContainer">
            <div id="driversList" class="list-group"></div>
          </div>

          <!-- –ú–æ–¥–∞–ª–∫–∞ -->
          <div id="addSamsaraDriverModal" class="custom-offcanvas custom-offcanvas-right">
              <div class="custom-offcanvas-content">
                <div class="custom-offcanvas-header">
                  <h5 class="mb-0">–î–æ–±–∞–≤–∏—Ç—å Samsara –≤–æ–¥–∏—Ç–µ–ª—è</h5>
                  <button class="btn btn-sm btn-secondary" onclick="closeAddSamsaraDriverModal()">‚úñ</button>
                </div>

                <div class="custom-offcanvas-body">
                  <form id="addSamsaraDriverForm">
                    <!-- –í—ã–±–æ—Ä –≤–æ–¥–∏—Ç–µ–ª—è -->
                    <div class="mb-4">
                      <label for="driverSelect" class="form-label fw-bold">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–¥–∏—Ç–µ–ª—è</label>
                      <select id="driverSelect" name="driverId" class="form-select" required>
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                      </select>
                    </div>

                    <!-- –î–µ—Ç–∞–ª–∏ –≤–æ–¥–∏—Ç–µ–ª—è (–∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω—è–µ–º—ã–µ) -->
                    <div id="driverDetails" style="display: none;">
                      <div class="mb-3">
                        <label class="form-label">Driver Name</label>
                        <input type="text" class="form-control" id="driverName" name="name" readonly>
                      </div>
                      <div class="mb-3">
                        <label class="form-label">Driver Phone Number</label>
                        <input type="text" class="form-control" id="driverPhone" name="phone" readonly>
                      </div>
                      <div class="mb-3">
                        <label class="form-label">Driver Licence Number</label>
                        <input type="text" class="form-control" id="driverLicense" name="license" readonly>
                      </div>
                    </div>

                    <!-- –õ–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å -->
                    <div class="mb-3">
                      <label class="form-label">Driver App Login (Username)</label>
                      <input type="text" class="form-control" name="username" required>
                    </div>
                    <div class="mb-4">
                      <label class="form-label">Driver App Password</label>
                      <input type="password" class="form-control" name="password" required>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ -->
                    <div class="d-flex justify-content-end">
                      <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            <div class="custom-offcanvas-backdrop" onclick="closeAddSamsaraDriverModal()"></div>

        </div>

  <div id="samsara_vehicles" class="mileage-section" style="display: none;">
      <button class="btn btn-sm btn-primary mb-3" onclick="loadSamsaraVehicles()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–∫–æ–≤</button>
      <div id="vehiclesList" class="list-group"></div>
    </div>

  <div id="mileage-stats" class="mileage-section" style="display: none;">
    <!-- –ö–æ—Ä–æ–±–∫–∏ -->
  </div>

  <!-- –ù–æ–≤—ã–π –±–ª–æ–∫: Units Mileage -->
  <div id="units-mileage" class="mileage-section" style="display: none;">

    <div class="mb-3">
      <input type="text" id="dateRangePicker" class="form-control" style="max-width: 320px;" />
    </div>

    <div id="mileageResults" class="table-responsive mt-3">
      <table class="table table-bordered table-sm">
        <thead>
          <tr>
            <th>Truck Name</th>
            <th>Start Odometer</th>
            <th>End Odometer</th>
            <th>Total Miles</th>
          </tr>
        </thead>
        <tbody id="mileageResultsBody"></tbody>
      </table>
    </div>

  </div>

</div>

<div id="mileageOverlay" style="
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  z-index: 9999;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 1.5rem;
  font-weight: bold;
">
  üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–±–µ–≥–æ–≤...
</div>